# 🚀 HyperAssetLLM_V2 실행 설명서

## 📋 목차
1. [시스템 요구사항](#시스템-요구사항)
2. [환경 설정](#환경-설정)
3. [프론트엔드 실행](#프론트엔드-실행)
4. [백엔드 실행](#백엔드-실행)
5. [전체 시스템 실행](#전체-시스템-실행)
6. [문제 해결](#문제-해결)

---

## 🖥️ 시스템 요구사항

### 필수 소프트웨어
- **Python 3.8 이상** (3.9, 3.10, 3.11 권장)
- **Node.js 16 이상** (18, 20 권장)
- **npm** (Node.js와 함께 설치됨)
- **Git** (코드 다운로드용)

### 확인 방법
```bash
# Python 버전 확인
python --version

# Node.js 버전 확인
node --version

# npm 버전 확인
npm --version
```

---

## ⚙️ 환경 설정

### 1. 프로젝트 다운로드
```bash
# Git으로 프로젝트 클론 (처음 실행시)
git clone [프로젝트_URL]
cd HyperAssetLLM_V2
```

### 2. Python 가상환경 생성 및 활성화

#### Windows에서:
```bash
# 1. 가상환경 생성
python -m venv venv

# 2. 가상환경 활성화
venv\Scripts\activate

# 3. 가상환경이 활성화되었는지 확인 (프롬프트 앞에 (venv) 표시)
```

#### macOS/Linux에서:
```bash
# 1. 가상환경 생성
python3 -m venv venv

# 2. 가상환경 활성화
source venv/bin/activate

# 3. 가상환경이 활성화되었는지 확인 (프롬프트 앞에 (venv) 표시)
```

### 3. Python 패키지 설치
```bash
# 1. stock_analysis_service 폴더로 이동
cd stock_analysis_service

# 2. 필요한 패키지 설치
pip install -r requirements_final_complete.txt

# 3. 설치 완료 확인
python -c "import fastapi, uvicorn, pandas, numpy; print('✅ 패키지 설치 완료')"
```

### 4. 프론트엔드 의존성 설치
```bash
# 1. frontend 폴더로 이동
cd frontend

# 2. npm 패키지 설치
npm install

# 3. 설치 완료 확인
npm run dev --version
```

---

## 🎨 프론트엔드 실행

### 1. 프론트엔드 서버 시작
```bash
# frontend 폴더에서
npm run dev
```

### 2. 브라우저에서 확인
- 브라우저를 열고 `http://localhost:5173` 접속
- React 앱이 정상적으로 로드되는지 확인

### 3. 프론트엔드만 테스트 (백엔드 없이)
```bash
# 프론트엔드만 실행하여 UI 확인
npm run dev
```

---

## 🔧 백엔드 실행

### 1. 가상환경 활성화 확인
```bash
# 터미널에서 (venv) 표시 확인
# 만약 없다면 다시 활성화:
# Windows: venv\Scripts\activate
# macOS/Linux: source venv/bin/activate
```

### 2. 백엔드 서버 시작
```bash
# stock_analysis_service 폴더에서
python simple_server_starter.py
```

### 3. 서버 상태 확인
- 브라우저에서 `http://localhost:9998/health` 접속
- JSON 응답이 나오면 서버가 정상 실행됨

### 4. 모든 서비스 시작
- 브라우저에서 `http://localhost:9998/start-servers` 접속
- 또는 POST 요청으로 서버들 시작

---

## 🌐 전체 시스템 실행

### 방법 1: 개별 실행 (권장)
```bash
# 터미널 1: 백엔드
cd stock_analysis_service
python simple_server_starter.py

# 터미널 2: 프론트엔드
cd stock_analysis_service/frontend
npm run dev
```

### 방법 2: 통합 실행
```bash
# frontend 폴더에서
npm run dev:with-backend
```

### 3. 접속 확인
- **프론트엔드**: `http://localhost:5173`
- **백엔드 API**: `http://localhost:9998`
- **서버 관리**: `http://localhost:9998/health`

---

## 🔍 문제 해결

### 1. Python 가상환경 문제
```bash
# 가상환경이 활성화되지 않는 경우
# Windows:
venv\Scripts\activate.bat

# macOS/Linux:
source venv/bin/activate

# 가상환경 재생성 (문제가 지속되는 경우)
rm -rf venv
python -m venv venv
```

### 2. 패키지 설치 오류
```bash
# pip 업그레이드
pip install --upgrade pip

# 캐시 클리어 후 재설치
pip cache purge
pip install -r requirements_final_complete.txt
```

### 3. Node.js/npm 문제
```bash
# npm 캐시 클리어
npm cache clean --force

# node_modules 삭제 후 재설치
rm -rf node_modules
npm install
```

### 4. 포트 충돌 문제
```bash
# 포트 사용 확인 (Windows)
netstat -ano | findstr :5173
netstat -ano | findstr :9998

# 포트 사용 확인 (macOS/Linux)
lsof -i :5173
lsof -i :9998
```

### 5. 권한 문제 (macOS/Linux)
```bash
# 실행 권한 부여
chmod +x venv/bin/activate
chmod +x stock_analysis_service/simple_server_starter.py
```

---

## 📝 실행 체크리스트

### ✅ 환경 설정
- [ ] Python 3.8+ 설치 확인
- [ ] Node.js 16+ 설치 확인
- [ ] Git 설치 확인
- [ ] 프로젝트 다운로드 완료

### ✅ Python 설정
- [ ] 가상환경 생성 완료
- [ ] 가상환경 활성화 완료
- [ ] Python 패키지 설치 완료

### ✅ 프론트엔드 설정
- [ ] npm 패키지 설치 완료
- [ ] 프론트엔드 서버 실행 확인
- [ ] 브라우저에서 접속 확인

### ✅ 백엔드 설정
- [ ] 백엔드 서버 실행 확인
- [ ] API 엔드포인트 접속 확인
- [ ] 모든 서비스 시작 확인

### ✅ 전체 시스템
- [ ] 프론트엔드와 백엔드 동시 실행
- [ ] 데이터 연동 확인
- [ ] 기능 테스트 완료

---

## 🆘 추가 도움말

### 로그 확인
```bash
# 백엔드 로그 확인
tail -f stock_analysis_service/stock_trend_service.log

# 프론트엔드 로그 확인 (브라우저 개발자 도구)
```

### 서비스 재시작
```bash
# 모든 서비스 중지 후 재시작
# Ctrl+C로 서버 중지 후 다시 실행
```

### 데이터베이스 확인
```bash
# 데이터베이스 상태 확인
python stock_analysis_service/check_database_direct.py
```

---

## 📞 지원

문제가 발생하면 다음을 확인하세요:
1. 모든 단계를 순서대로 실행했는지 확인
2. 시스템 요구사항을 충족하는지 확인
3. 로그 메시지를 확인하여 오류 원인 파악
4. 위의 문제 해결 섹션 참조

**성공적으로 실행되면 브라우저에서 `http://localhost:5173`에 접속하여 애플리케이션을 사용할 수 있습니다!** 🎉 